{
	"name":"GameBoy",
	"description":"Make it look like a GameBoy",
	"shaderVersion":"0.1",
	"author":"TumbleGamer,SArpnt",
	"shader":"#version 300 es\n    precision mediump float;\n    \n    in vec2 vPixelCoord;\n    out vec4 fColor;\n    \n    uniform sampler2D uStageTex;\n    uniform vec2 uViewportSize;\n\n    vec2 pixelize(vec2 uv,vec2 screenSize,float pixelSize) {\n        float res = screenSize.x/screenSize.y;\n        float nx = screenSize.x/pixelSize;\n        float ny = floor(nx / res);\n        vec2 pos;\n        pos.x = floor(uv.x * nx) / nx;\n        pos.y = floor(uv.y * ny) / ny;\n        return pos;\n    }\n\n    vec4 gameBoy(vec3 color) {\n        float gamma = 1.5;\n        color.r = pow(color.r,gamma);\n        color.g = pow(color.g,gamma);\n        color.b = pow(color.b,gamma);\n\n        vec3 col1 = vec3(0.612, 0.725, 0.086);\n        vec3 col2 = vec3(0.549, 0.667, 0.078);\n        vec3 col3 = vec3(0.188, 0.392, 0.188);\n        vec3 col4 = vec3(0.063, 0.247, 0.063);\n\n        float dist1 = length(color - col1);\n        float dist2 = length(color - col2);\n        float dist3 = length(color - col3);\n        float dist4 = length(color - col4);\n\n        float d = min(dist1, dist2);\n        d = min(d, dist3);\n        d = min(d, dist4);\n      \n        if (d == dist1) {\n          color = col1;\n        }    \n        else if (d == dist2) {\n          color = col2;\n        }    \n        else if (d == dist3) {\n          color = col3;\n        }    \n        else {\n          color = col4;\n        } \n        return vec4(color,1.0).rgba;\n    }\n\n\n    void main()\n    {\n        vec2 pos = pixelize(vPixelCoord,uViewportSize,2.0);\n        vec4 color = texture(uStageTex,pos);\n        fColor = gameBoy(color.xyz);\n    }    \n\n"
}